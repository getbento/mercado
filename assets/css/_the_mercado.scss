.kiosk-grid, .bars-grid{
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  .kiosk-box{
    width: 32%;
    margin-bottom: 50px;
    @media (max-width: 767px){
      width: 47%;
    }
    a{
      display: flex;
      flex-direction: column;
      align-items: center;
      text-decoration: none;
      h6{
        margin-top: 10px;
        padding: 0 10px ;
        text-align: center;
        font-size: 28px;
        color: $toro_red;
        font-family: $domaine;
        font-weight: 800;
        line-height: 1.2em;
        @media (max-width: 767px){
          font-size: 20px;
        }
      }
    }
    .kiosk-box-img{
      margin-bottom: 15px;
      position: relative;
      .kiosk-bar-hover-img{
        position: absolute;
        left: 0;
        top: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        width: 100%;
        font-family: $domaine;
        font-size: 25px;
        text-align: center;
        line-height: 1.2em;
        font-weight: 900;
        padding: 10px;
        opacity: 0;
        transition: 300ms ease all;
        .img-fade{
          position: absolute;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          z-index: 1;
          background-color: rgba(0,0,0,0.3);
        }
        h4{
          position: relative;
          z-index: 2;
          color: $oro_yellow;
          @media (max-width: 1050px){
            font-size: 25px;
          }
        }
        img{
          position: absolute;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          object-fit: cover;
          border: 0px;
          z-index: 0;
        }
      }

      h6{
        color: $oro_yellow;
        position: relative;
        z-index: 2;
        font-size: 20px;
      }
    }
    img{
      width: 100%;
      height: auto;
      border: 2px solid $toro_red;
    }
    &:hover .kiosk-bar-hover-img{
      opacity: 1;
    }
  }
}


.ig-boxes{
  display: flex;
  flex-wrap: wrap;
  border: 1px solid $toro_red;
  @media(max-width: 767px){
    border: 0px;
  }
  .ig-box{
    width: 20%;
    border: 1px solid $toro_red;

    padding-bottom: 19.8%;
    position: relative;

    @media (max-width: 920px){
      width: 25%;
      padding-bottom: 24.8%;
      &:nth-last-child(2), &:nth-last-child(3){
        display: none;
      }
    }


    &.edge-box{
      background-color: $toro_red;

      h5{
        color: $oro_yellow;
        text-transform: uppercase;
        font-family: $knockout-feather;
        font-weight: initial;
        padding: 10px;
        font-size: 37px;
        line-height: 1.1em;
        position: absolute;
        left: 0;
        top: 0;
        height: 100%;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        a{
          color: inherit;
          font-family: inherit;

        }
      }
    }

    .ig-box-link{
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      img{
        height: 100%;
        width: 100%;
        object-fit: cover;
      }
    }


  }
}

.ig-feed{
  margin-bottom: 30px;
  @media (max-width: 767px){
    .content-margins{
      margin-left: 0;
      margin-right: 0;
      max-width: 100%;
      min-width: 100%;
      overflow-x: scroll;
      overflow-y: hidden;
      -webkit-overflow-scrolling: touch;
      .ig-boxes{
        flex-direction: row;
        flex-wrap: nowrap;

        .ig-box{
          min-width: 175px;
          height: 175px;
          padding-bottom: 0;
          border-top: 2px solid $toro_red;
          border-bottom: 2px solid $toro_red;
        }
      }
    }
  }
}

.current-the-mercado{
  .full-width-header-content{
    position: relative;
    z-index: 2;
  }
}

.mls-mercado-map-img{
  margin-bottom: 30px;
  img{
    // margin: auto;
    width: 100%;
    height: auto;
  }
}

#bars, #kiosks, #mercado-map{
  padding-top: 125px;
  margin-top: -125px;
}

#mercado-map{
  position: relative;

  @media(max-width: 767px){
  }
}

.mercado-map-box{
  overflow-x: scroll;
  overflow-y: hidden;
}

.mercado-map-inner{
    position: relative;
    width: 1024px;
    margin: auto;
    @media (max-width: 767px){
      position: initial;
    }
}

.mercado-map-cont{
  // position: relative;
  padding-top: 50px;
  overflow: scroll;
  margin: auto;
  @media (max-width: 767px){
    // position: initial;
  }
  svg{
    width: 1024px;
    // width: 100%;
    margin: auto;
    display: block;
    text{
      .st3{
        font-family: $knockout;
      }
    }
  }
  svg[type="shop"]{
    .svg-stall-cont:not([type='shop']){
      text{
        pointer-events: none;
      }
      rect.st0,polygon.st0{
        fill: #fdf16f24;
        pointer-events: none;

      }
    }
  }
  svg[type="restaurant"]{
    .svg-stall-cont:not([type='restaurant']){
      text{
        pointer-events: none;
      }
      rect.st0,polygon.st0{
        fill: #fdf16f24;
        pointer-events: none;

      }
    }
  }
  svg[type="bar"]{
    .svg-stall-cont:not([type='bar']){
      text{
        pointer-events: none;
      }
      rect.st0,polygon.st0{
        fill: #fdf16f24;
        pointer-events: none;

      }
    }
  }
  svg[type="kiosk"]{
    .svg-stall-cont{
      text{
        pointer-events: none;
      }
      rect.st0,polygon.st0{
        fill: #fdf16f24;
        pointer-events: none;

      }
    }
    .svg-stall-cont[type='kiosk']{
      text{
        pointer-events: auto;
      }
      rect.st0,polygon.st0{
        fill: #FDF16F;
        pointer-events: auto;

      }
    }
  }
  svg[type="sweet"]{
    .svg-stall-cont:not([cat='sweet ']){
      text{
        pointer-events: none;
      }
      rect.st0,polygon.st0{
        fill: #fdf16f24;
        pointer-events: none;

      }
    }
    .svg-stall-cont[cat='sweet savory ']{
      rect.st0,polygon.st0{
        fill: #FDF16F;
        pointer-events: auto;
      }
      text{
        pointer-events: auto;
      }
    }
  }
  svg[type="savory"]{
    .svg-stall-cont:not([cat='savory ']){
      text{
        pointer-events: none;
      }
      rect.st0,polygon.st0{
        fill: #fdf16f24;
        pointer-events: none;

      }
    }
    .svg-stall-cont[cat='sweet savory ']{
      rect.st0,polygon.st0{
        fill: #FDF16F;
        pointer-events: auto;

      }
      text{
        pointer-events: auto;
      }
    }
  }

}

.mercado-map-hover-box{
  opacity: 0;
  transition: ease 300ms all;
  position: absolute;
  border: 2px solid $toro_red;
  // height: 30px;
  max-width: 155px;
  background-color: white;
  z-index: 2;
  display: flex;
  padding: 10px;
  // justify-content: space-between;
  align-items: center;
  pointer-events: none;
  img{
    height:auto;
    width: 50px;
    // border: 1px solid $toro_red;
  }
  &.rest{
    img{
      border: 0px;
    }
  }
  span{
    // width: 45%;
    font-size: 12px;
    padding-left: 10px;
  }
  &.active{
    opacity: 1;
  }
  &:before{
    content: '';
    border-bottom: 2px solid $toro_red;
    border-right: 2px solid $toro_red;
    height: 10px;
    width: 10px;
    pointer-events: none;
    transform: rotate(45deg);
    position: absolute;
    top: calc(100% - 5px);
    z-index: 2;
    background-color: white;
    border-radius: 2px;
    left: 0;
    right: 0;
    margin: auto;
  }
  @media (max-width: 767px){
    display: none;
  }
}

.mercado-map-more-info-boxes{
  position: absolute;
  right: 50px;
  top: 45px;
  opacity: 0;
  transition: ease 300ms opacity;
  pointer-events: none;
  display: flex;
  @media (max-width: 767px){
    width: 100%;
    height: calc(100% - 125px);
    z-index: 1;
    left: 0;
    bottom: 0;
    top: auto;

    justify-content: center;
    align-items: center;
  }
  .bg-fade{
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 100%;
    display: none;
    opacity: 0;
    background-color: white;
    @media (max-width: 767px){
      display: block;
    }
  }
  &.active{
    opacity: 1;
    pointer-events: auto;

    @media (max-width: 767px){

      .bg-fade{
        opacity: 0.65;
        z-index: -1;
      }
    }

  }
  .map-more-info-box{
    display: none;
    background-color: white;
    &:first-child{
      // display: block;
    }
    width: 350px;
    border: 2px solid $toro_red;
    &.rest-more-info{
      .map-more-info-banner{
        padding: 0px;
        img{
          border: 0px;
          width: 100%;
          height: auto;
        }
      }
    }
  }
  .map-more-info-banner{
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 5px;
    border-bottom: 2px solid $toro_red;

    h6{
      font-size: 30px;
      text-transform: uppercase;
      color: $toro_red;
      font-family: $knockout-bantam;
    }

    img{
      width: 50px;
      height: 50px;
      // border: 1px solid $toro_red;

    }
    .map-more-info-banner-right{
      width: 50px;
      text-align: center;
      color: $mid_grey;
      border: 1px solid $mid_grey;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 50px;
      text-transform: uppercase;
      font-family: $knockout-bantam;
      font-size: 12px;
    }
  }

  .map-more-info-box-desc{
    // padding-bottom: 30px;
    display: flex;
    // align-items: flex-start;
    color: #474746;
    .map-more-info-img{
      width: 35%;
      min-width: 35%;
      padding: 5px;
    }
    img{
      width: 100%;
      height: 100%;
      object-fit: cover;

    }
    .map-more-info-content{
      border-left: 2px solid $toro_red;
      padding: 10px;
      padding-bottom: 25px;
      position: relative;
      font-size: 18px;
      a{
        position: absolute;
        bottom: 0;
        right: 0;
        height: 25px;
        width: 25px;
        background-color: $toro_red;
        display: flex;
        justify-content: center;
        align-items: center;
        svg{
          width: 15px;
          min-width: unset;
          path{
            fill: white;
          }
        }
      }
    }
  }
}


.mercado-map-filter{
  text-transform: uppercase;
  color: $toro_red;
  display: flex;
  justify-content: space-between;
  @media(max-width: 600px){
    flex-direction: column;
  }
  h4{
    text-transform: uppercase;
    color: $toro_red;
    font-family: $knockout-feather;
    font-size:50px;
    @media(max-width: 600px){
      width: 100%;
      text-align: center;
      margin-bottom: 15px;
    }
  }
  .map-filter-box{
    border: 2px solid $toro_red;
    flex-grow: 1;
    margin-left: 1%;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    font-size: 20px;
    font-family: $knockout-feather;
    background-color: white;
    @media(max-width: 600px){
      border-bottom: 0px;
      margin-left: 0px;
      &:last-child{
        border-bottom: 2px solid $toro_red;
      }
    }
    &.filter-with-dropdown{
      display: block;
      .selected-filter{
        display: block;
      }
      @media(max-width: 600px){
        .map-filter-select{
          position: initial;
          outline: none;
          .filter-selection{
            border-bottom: 0px;
          }
        }
      }
    }
    .map-filter-select{
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      z-index: 3;
      background-color: white;
      @media(max-width: 600px){
        position: initial;
      }
      .filter-selection{
        &.active{
          color: white;
          background-color: $toro_red;
          position: relative;
          @media(min-width: 600px){
            padding-left: 40px;
          }
          &:before{
            content: "×";
            position: absolute;
            height: 20px;
            width: 20px;
            background-color: white;
            color: $toro_red;
            left: 10px;
            top: 0px;
            bottom: 0;
            margin: auto;
            line-height: 18px;
            cursor: pointer;
          }
        }
      }
    }

    a{
      color: $toro_red;
    }

    &.filter-with-dropdown{
      .selected-filter.active{
        padding-left: 15px;
        &:before{
          display: none;
        }
      }
    }

    .selected-filter{

      cursor: pointer;
      transition: ease 250ms all;
      padding: 15px;
      height: 100%;
      width: 100%;
      text-align: center;
      &:hover{
        color: white;
        background-color: $toro_red;
      }
      &.active{
        color: white;
        background-color: $toro_red;
        position: relative;
        @media(min-width: 600px){
          padding-left: 30px;
        }
        &:before{
          content: "×";
          position: absolute;
          height: 20px;
          width: 20px;
          background-color: white;
          color: $toro_red;
          left: 10px;
          top: 0px;
          bottom: 0;
          margin: auto;
          line-height: 18px;
          cursor: pointer;
        }
      }
    }
    .map-filter-select{
      display: none;
      outline: 2px solid $toro_red;
    }
    .map-filter-select-inner{
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 100%;

      a{
        padding: 15px;
        width: 100%;
        border-bottom: 2px solid $toro_red;
        text-align: center;
        color: $toro_red;
        transition: ease 250ms all;
        &:hover{
          color: white;
          background-color: $toro_red;
        }
        &:last-child{
          border-bottom: 0px;
        }
      }
    }
  }

}

.mercado-map-box-cont{
  position: relative;
  .mercado-map-more-info-close{
    display: none;
    position: absolute;
    right: 0;
    bottom: calc(100% + 5px);
    font-size: 40px;
    color: $toro_red;
    cursor: pointer;
    @media (max-width: 767px){
      display: block;
    }
  }
}
